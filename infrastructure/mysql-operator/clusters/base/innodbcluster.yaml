apiVersion: mysql.oracle.com/v2
kind: InnoDBCluster
metadata:
  name: mysql-cluster
  namespace: mysql
  annotations:
    argocd.argoproj.io/sync-options: "Validate=false"
    argocd.argoproj.io/sync-wave: "5"
spec:
  secretName: mysql-root-password  # Must match secret name
  instances: 3
  router:
    instances: 2
  tlsUseSelfSigned: true
  datadirVolumeClaimTemplate:
    accessModes: ["ReadWriteOnce"]
    resources:
      requests:
        storage: 40Gi
